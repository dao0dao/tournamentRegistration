<div
    *ngIf="spinner"
    class="spiner container">
    <mat-spinner></mat-spinner>
</div>
<div *ngIf="!spinner" class="container">
    <h2>{{title}}</h2>
    <form
        class="form container"
        [formGroup]="userForm"
        (ngSubmit)="submit()">
        <mat-form-field>
            <mat-label>Imię</mat-label>
            <input
                maxlength="15"
                formControlName="firstName"
                #first
                matInput
                required>
            <mat-hint align="end">{{first.value.length}}/15</mat-hint>
            <mat-error *ngIf="firstName.errors?.required && firstName.touched" >Wymagane pole</mat-error>
            <mat-error *ngIf="firstName.errors?.startsWithSpace && firstName.touched">Bez spacji na początku</mat-error>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Nazwisko</mat-label>
            <input
                maxlength="30"
                formControlName="lastName"
                #last
                matInput
                required>
            <mat-hint align="end">{{last.value.length}}/30</mat-hint>
            <mat-error *ngIf="lastName.errors?.required && lastName.touched">Wymagane pole</mat-error>
            <mat-error *ngIf="lastName.errors?.startsWithSpace && lastName.touched">Bez spacji na początku</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input
                type="email"
                formControlName="email"
                readonly
                matInput>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Telefon</mat-label>
            <input
                class="input--number"
                formControlName="phone"
                type="number"
                #phoneN
                matInput
                required>
            <mat-hint align="end">{{phoneN.value.length}} / wymagane 9</mat-hint>
        </mat-form-field>

        <button
            class="btn btn--submit"
            type="submit"
            [disabled]="userForm.invalid || btnDisable"
            mat-raised-button>
            Wyślij
        </button>
        <button
            class="btn btn--cancle"
            type="button"
            mat-button
            (click)="router.navigate(['/profile'])">
            Anuluj
        </button>
    </form>
</div>
